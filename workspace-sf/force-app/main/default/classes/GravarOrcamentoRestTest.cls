//PLV-3649 - INICIO - Performance - Gravar Orçamentos
@isTest
public class GravarOrcamentoRestTest {

    @isTest 
    public static void gravarOrcamentoTest(){
        // PLV-5331 INÍCIO
        Account contaPF = (Account) new AccountFactory.PessoaFisica().createRecord();

        ContadorCodigo__c contadorTec = (ContadorCodigo__c) new ContadorCodigoFactory.ProdutoTecnico().createRecord();
        ContadorCodigo__c contadorCom = (ContadorCodigo__c) new ContadorCodigoFactory.ProdutoComercial().createRecord();

        Product2 produtoTecnico = (Product2) new produtoFactory.ProdutoTecnico().createRecord();
        produtoTecnico.Status__c = 'Em ativação';
		produtoTecnico.NumeroSusep__c = '123';
		produtoTecnico.VersaoRenovacao__c = 'Versão atual';
        update produtoTecnico;
		produtoTecnico.Status__c = 'Ativo';
		update produtoTecnico;

        Product2 produtoComercial = (Product2) new ProdutoFactory.produtoComercial(produtoTecnico).createRecord();
        produtoComercial.VigenciaFinal__c = System.today().addDays(3);
        produtoComercial.status__c = 'Ativo'; 
        produtoComercial.CodigoPrecificaProduto__c = 'VI-PESSOAS';
        produtoComercial.ProductCode = 'VI-PESSOAS';
        update produtoComercial;
        // PLV-5331 FIM

        // StaticResource RecursoEstatico = [SELECT body FROM StaticResource WHERE name = 'PayloadGravarOrcamentoService' LIMIT 1]; // PLV-5331 INÍCIO / FIM

        // if(RecursoEstatico == null) return; // PLV-5331 INÍCIO / FIM

        RestRequest requestGravar = new RestRequest();
        requestGravar.requestUri  ='/services/apexrest/gravarorcamentos';
        requestGravar.httpMethod  = 'POST';
        // requestGravar.requestBody = recursoEstatico.Body; // PLV-5331 INÍCIO / FIM
        requestGravar.requestBody = Blob.valueOf('{"ofertas":[{"orcamento":{"tipoVigencia":"Determinado","tipoSeguro":"Novo","vigenciaFinal":"2020-05-09","numeroOrcamento":"00008730","numeroPortal":0,"codigoProdutoVida":"VI-PESSOAS","idProdutoSf":"'+produtoComercial.Id+'","contratantes":[{"tipo":"PRI","numero":1,"grupos":[{"numero":1,"tipoCalculo":"MOVSINT","segurados":[{"numero":1,"pessoa":{"tipo":"FIS","nome":"DOUGLAS DOMICIANO GANSO","dadosPessoaFisica":{"sexo":"MASC","numeroCpf":"378549429","digitoCpf":"78","estadoCivil":"CAS","dataNascimento":"1982-08-26","profissao":"493-09/883"},"email":"mussum.forevis@gmail.com","enderecos":[{"uf":"SP","tipoLogradouro":"R","tipoEndereco":"RES","paisResidencia":"BRA","numeroLogradouro":"92","logradouro":"Guaianses","complementoCep":"420","complemento":"Apto 22","cidade":"SAO PAULO","cep":"07114","bairro":"Centro"}]},"coberturas":[{"sigla":"ABC","valor":50000.0},{"sigla":"IEA","percentual":100.0,"garantiaReferenciada":"BAS"},{"sigla":"AFT","valor":3000.0}]}],"nome":"Passageiros até 70 anos","qtdeVidas":1,"coberturas":[{"sigla":"DMHO","valor":10000},{"sigla":"MAP","valor":50000},{"sigla":"IPTA","valor":15000},{"sigla":"AFI","valor":12000},{"sigla":"HAH","valor":11000},{"sigla":"HAHP","valor":14000},{"sigla":"AHP","valor":5000},{"sigla":"TC","valor":10000},{"sigla":"TM","valor":15000},{"sigla":"RPR","valor":2000},{"sigla":"AM","valor":4000},{"sigla":"RMF","valor":8000},{"sigla":"EVRM","valor":null},{"sigla":"OEPD","valor":null},{"sigla":"TMU","valor":null},{"sigla":"RS","valor":20000},{"sigla":"PVB","valor":null}]},{"numero":2,"tipoCalculo":"MOVSINT","nome":"Passageiros de 71 a 90 anos","qtdeVidas":0,"coberturas":[{"sigla":"DMHO","valor":10000},{"sigla":"MAP","valor":50000},{"sigla":"IPTA","valor":15000},{"sigla":"AFI","valor":12000},{"sigla":"HAH","valor":11000},{"sigla":"HAHP","valor":14000},{"sigla":"AHP","valor":5000},{"sigla":"TC","valor":10000},{"sigla":"TM","valor":15000},{"sigla":"RPR","valor":2000},{"sigla":"AM","valor":4000},{"sigla":"RMF","valor":8000},{"sigla":"EVRM","valor":null},{"sigla":"OEPD","valor":null},{"sigla":"TMU","valor":null},{"sigla":"RS","valor":20000},{"sigla":"PVB","valor":null}]}]}],"canalDistribuicao":"COR","viagem":{"tipoViagem":"NACIONAL","praticaEsportesAventura":false,"destinos":[{"codigo":"DESTINO","pais":"Brasil"}],"utilizaraMotocicleta":false,"passageirosNaoIdosos":1,"passageirosIdosos":0},"meioComercializacao":"CO2","varConsultivo":true,"segmento":"Individual","versoesCalculos":[{"opcao":1,"tipo":"FPG","descontoAgravo":-30},{"opcao":0,"tipo":"FPG","descontoAgravo":-25}],"numeroOferta":1699,"orcnum":"00008730","ordemPortal":1,"rotulo":"Brasil Terra","susepOrcamento":"P5005J","remuneracoes":[{"percentual":25,"tipoRemuneracao":"CORRETAGEM"}],"vigenciaInicial":"2020-04-20","dataCalculo":"2020-04-20"},"retornosCalculo":[{"opcao":1,"precificacao":{"encargos":0,"iof":0.13,"descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-17.29}],"premio":{"comercial":40.49,"total":40.62,"puro":65.54},"custoDeApolice":0,"juros":0,"coberturas":[{"iof":0.12,"sigla":"DMHO","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-14.25}],"premio":{"comercial":33.25,"total":33.37,"puro":53.83}},{"iof":0.01,"sigla":"MAP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.7}],"premio":{"comercial":1.64,"total":1.65,"puro":2.65}},{"iof":0,"sigla":"IPA","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.03}],"premio":{"comercial":0.08,"total":0.08,"puro":0.14}},{"iof":0,"sigla":"TC","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.16}],"premio":{"comercial":0.39,"total":0.39,"puro":0.63}},{"iof":0,"sigla":"TM","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.11}],"premio":{"comercial":0.28,"total":0.28,"puro":0.45}},{"iof":0,"sigla":"RS","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.46}],"premio":{"comercial":1.08,"total":1.08,"puro":1.74}},{"iof":0,"sigla":"AFI","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.09}],"premio":{"comercial":0.22,"total":0.22,"puro":0.36}},{"iof":0,"sigla":"HAH","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.05}],"premio":{"comercial":0.12,"total":0.12,"puro":0.2}},{"iof":0,"sigla":"HAHP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.09}],"premio":{"comercial":0.22,"total":0.22,"puro":0.36}},{"iof":0,"sigla":"RPR","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.47}],"premio":{"comercial":1.11,"total":1.11,"puro":1.79}},{"iof":0,"sigla":"RMF","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.31}],"premio":{"comercial":0.74,"total":0.74,"puro":1.2}},{"iof":0,"sigla":"AHP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.47}],"premio":{"comercial":1.11,"total":1.11,"puro":1.79}},{"iof":0,"sigla":"AM","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.1}],"premio":{"comercial":0.25,"total":0.25,"puro":0.41}}],"contratantes":[{"iof":0.13,"descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-17.29}],"numero":1,"premio":{"comercial":40.49,"total":40.62,"puro":65.54},"grupos":[{"iof":0.13,"descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-17.29}],"numero":1,"premio":{"comercial":40.49,"total":40.62,"puro":65.54},"segurados":[{"iof":0.13,"descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-17.29}],"numero":1,"premio":{"comercial":40.49,"total":40.62,"puro":65.54},"coberturas":[{"taxa":{"comercial":0.003325,"pura":0.000173658,"total":0.003337635},"iof":0.12,"sigla":"DMHO","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-14.25}],"premio":{"comercial":33.25,"total":33.37,"puro":53.834}},{"taxa":{"comercial":0.0000205,"pura":0.0000010684,"total":0.000020625},"iof":0.01,"sigla":"MAP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.7}],"premio":{"comercial":1.64,"total":1.65,"puro":2.649863}},{"taxa":{"comercial":0.000001,"pura":5.47e-8,"total":0.0000010038},"iof":0,"sigla":"IPA","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.03}],"premio":{"comercial":0.08,"total":0.08,"puro":0.13589}},{"taxa":{"comercial":0.0000195,"pura":0,"total":0.0000195741},"iof":0,"sigla":"TC","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.16}],"premio":{"comercial":0.39,"total":0.39,"puro":0.633}},{"taxa":{"comercial":0.000014,"pura":7.221e-7,"total":0.0000140532},"iof":0,"sigla":"TM","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.11}],"premio":{"comercial":0.28,"total":0.28,"puro":0.4477}},{"taxa":{"comercial":0.000054,"pura":1e-10,"total":0.0000542052},"iof":0,"sigla":"RS","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.46}],"premio":{"comercial":1.08,"total":1.08,"puro":1.7434}},{"taxa":{"comercial":0.000044,"pura":4e-10,"total":0.0000441672},"iof":0,"sigla":"AFI","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.09}],"premio":{"comercial":0.22,"total":0.22,"puro":0.3601}},{"taxa":{"comercial":0.0012,"pura":6.329e-7,"total":0.00120456},"iof":0,"sigla":"HAH","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.05}],"premio":{"comercial":0.12,"total":0.12,"puro":0.1962}},{"taxa":{"comercial":0.0022,"pura":0.0000011473,"total":0.00220836},"iof":0,"sigla":"HAHP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.09}],"premio":{"comercial":0.22,"total":0.22,"puro":0.3556}},{"taxa":{"comercial":0.00037,"pura":6.4e-9,"total":0.000371406},"iof":0,"sigla":"RPR","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.47}],"premio":{"comercial":1.11,"total":1.11,"puro":1.7897}},{"taxa":{"comercial":0.0002466666,"pura":4.3e-9,"total":0.000247604},"iof":0,"sigla":"RMF","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.31}],"premio":{"comercial":0.74,"total":0.74,"puro":1.2019}},{"taxa":{"comercial":0.00037,"pura":6.4e-9,"total":0.000371406},"iof":0,"sigla":"AHP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.47}],"premio":{"comercial":1.11,"total":1.11,"puro":1.7897}},{"taxa":{"comercial":0.0000833333,"pura":1.4e-9,"total":0.00008365},"iof":0,"sigla":"AM","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.1}],"premio":{"comercial":0.25,"total":0.25,"puro":0.4065}}]}],"coberturas":[{"taxa":{"comercial":0.003325,"pura":0.000173658,"total":0.003337635},"iof":0.12,"sigla":"DMHO","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-14.25}],"premio":{"comercial":33.25,"total":33.37,"puro":53.83}},{"taxa":{"comercial":0.0000205,"pura":0.0000010684,"total":0.000020625},"iof":0.01,"sigla":"MAP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.7}],"premio":{"comercial":1.64,"total":1.65,"puro":2.65}},{"taxa":{"comercial":0.000001,"pura":5.47e-8,"total":0.0000010038},"iof":0,"sigla":"IPA","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.03}],"premio":{"comercial":0.08,"total":0.08,"puro":0.14}},{"taxa":{"comercial":0.0000195,"pura":0,"total":0.0000195741},"iof":0,"sigla":"TC","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.16}],"premio":{"comercial":0.39,"total":0.39,"puro":0.63}},{"taxa":{"comercial":0.000014,"pura":7.221e-7,"total":0.0000140532},"iof":0,"sigla":"TM","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.11}],"premio":{"comercial":0.28,"total":0.28,"puro":0.45}},{"taxa":{"comercial":0.000054,"pura":1e-10,"total":0.0000542052},"iof":0,"sigla":"RS","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.46}],"premio":{"comercial":1.08,"total":1.08,"puro":1.74}},{"taxa":{"comercial":0.000044,"pura":4e-10,"total":0.0000441672},"iof":0,"sigla":"AFI","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.09}],"premio":{"comercial":0.22,"total":0.22,"puro":0.36}},{"taxa":{"comercial":0.0012,"pura":6.329e-7,"total":0.00120456},"iof":0,"sigla":"HAH","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.05}],"premio":{"comercial":0.12,"total":0.12,"puro":0.2}},{"taxa":{"comercial":0.0022,"pura":0.0000011473,"total":0.00220836},"iof":0,"sigla":"HAHP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.09}],"premio":{"comercial":0.22,"total":0.22,"puro":0.36}},{"taxa":{"comercial":0.00037,"pura":6.4e-9,"total":0.000371406},"iof":0,"sigla":"RPR","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.47}],"premio":{"comercial":1.11,"total":1.11,"puro":1.79}},{"taxa":{"comercial":0.0002466666,"pura":4.3e-9,"total":0.000247604},"iof":0,"sigla":"RMF","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.31}],"premio":{"comercial":0.74,"total":0.74,"puro":1.2}},{"taxa":{"comercial":0.00037,"pura":6.4e-9,"total":0.000371406},"iof":0,"sigla":"AHP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.47}],"premio":{"comercial":1.11,"total":1.11,"puro":1.79}},{"taxa":{"comercial":0.0000833333,"pura":1.4e-9,"total":0.00008365},"iof":0,"sigla":"AM","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.1}],"premio":{"comercial":0.25,"total":0.25,"puro":0.41}}]}],"coberturas":[{"iof":0.12,"sigla":"DMHO","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-14.25}],"premio":{"comercial":33.25,"total":33.37,"puro":53.83}},{"iof":0.01,"sigla":"MAP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.7}],"premio":{"comercial":1.64,"total":1.65,"puro":2.65}},{"iof":0,"sigla":"IPA","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.03}],"premio":{"comercial":0.08,"total":0.08,"puro":0.14}},{"iof":0,"sigla":"TC","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.16}],"premio":{"comercial":0.39,"total":0.39,"puro":0.63}},{"iof":0,"sigla":"TM","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.11}],"premio":{"comercial":0.28,"total":0.28,"puro":0.45}},{"iof":0,"sigla":"RS","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.46}],"premio":{"comercial":1.08,"total":1.08,"puro":1.74}},{"iof":0,"sigla":"AFI","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.09}],"premio":{"comercial":0.22,"total":0.22,"puro":0.36}},{"iof":0,"sigla":"HAH","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.05}],"premio":{"comercial":0.12,"total":0.12,"puro":0.2}},{"iof":0,"sigla":"HAHP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.09}],"premio":{"comercial":0.22,"total":0.22,"puro":0.36}},{"iof":0,"sigla":"RPR","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.47}],"premio":{"comercial":1.11,"total":1.11,"puro":1.79}},{"iof":0,"sigla":"RMF","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.31}],"premio":{"comercial":0.74,"total":0.74,"puro":1.2}},{"iof":0,"sigla":"AHP","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.47}],"premio":{"comercial":1.11,"total":1.11,"puro":1.79}},{"iof":0,"sigla":"AM","descontoAgravo":[{"tipo":"FPG","percentual":-30,"monetario":-0.1}],"premio":{"comercial":0.25,"total":0.25,"puro":0.41}}]}]},"numeroOrcamento":"00008730","numeroOferta":1699,"orcnum":"00008730"},{"opcao":0,"precificacao":{"encargos":0,"iof":0.14,"descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-14.4}],"premio":{"comercial":43.38,"total":43.52,"puro":65.54},"custoDeApolice":0,"juros":0,"coberturas":[{"iof":0.13,"sigla":"DMHO","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-11.87}],"premio":{"comercial":35.63,"total":35.76,"puro":53.83}},{"iof":0.01,"sigla":"MAP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.58}],"premio":{"comercial":1.75,"total":1.76,"puro":2.65}},{"iof":0,"sigla":"IPA","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.03}],"premio":{"comercial":0.09,"total":0.09,"puro":0.14}},{"iof":0,"sigla":"TC","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.14}],"premio":{"comercial":0.42,"total":0.42,"puro":0.63}},{"iof":0,"sigla":"TM","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.09}],"premio":{"comercial":0.3,"total":0.3,"puro":0.45}},{"iof":0,"sigla":"RS","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.38}],"premio":{"comercial":1.15,"total":1.15,"puro":1.74}},{"iof":0,"sigla":"AFI","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.07}],"premio":{"comercial":0.24,"total":0.24,"puro":0.36}},{"iof":0,"sigla":"HAH","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.04}],"premio":{"comercial":0.13,"total":0.13,"puro":0.2}},{"iof":0,"sigla":"HAHP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.07}],"premio":{"comercial":0.24,"total":0.24,"puro":0.36}},{"iof":0,"sigla":"RPR","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.39}],"premio":{"comercial":1.18,"total":1.18,"puro":1.79}},{"iof":0,"sigla":"RMF","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.26}],"premio":{"comercial":0.8,"total":0.8,"puro":1.2}},{"iof":0,"sigla":"AHP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.39}],"premio":{"comercial":1.18,"total":1.18,"puro":1.79}},{"iof":0,"sigla":"AM","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.09}],"premio":{"comercial":0.27,"total":0.27,"puro":0.41}}],"contratantes":[{"iof":0.14,"descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-14.4}],"numero":1,"premio":{"comercial":43.38,"total":43.52,"puro":65.54},"grupos":[{"iof":0.14,"descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-14.4}],"numero":1,"premio":{"comercial":43.38,"total":43.52,"puro":65.54},"segurados":[{"iof":0.14,"descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-14.4}],"numero":1,"premio":{"comercial":43.38,"total":43.52,"puro":65.54},"coberturas":[{"taxa":{"comercial":0.003563,"pura":0.000173658,"total":0.0035765394},"iof":0.13,"sigla":"DMHO","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-11.87}],"premio":{"comercial":35.63,"total":35.76,"puro":53.834}},{"taxa":{"comercial":0.000021875,"pura":0.0000010684,"total":0.000022},"iof":0.01,"sigla":"MAP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.58}],"premio":{"comercial":1.75,"total":1.76,"puro":2.649863}},{"taxa":{"comercial":0.000001125,"pura":5.47e-8,"total":0.0000011292},"iof":0,"sigla":"IPA","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.03}],"premio":{"comercial":0.09,"total":0.09,"puro":0.13589}},{"taxa":{"comercial":0.000021,"pura":0,"total":0.0000210798},"iof":0,"sigla":"TC","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.14}],"premio":{"comercial":0.42,"total":0.42,"puro":0.633}},{"taxa":{"comercial":0.000015,"pura":7.221e-7,"total":0.000015057},"iof":0,"sigla":"TM","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.09}],"premio":{"comercial":0.3,"total":0.3,"puro":0.4477}},{"taxa":{"comercial":0.0000575,"pura":1e-10,"total":0.0000577185},"iof":0,"sigla":"RS","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.38}],"premio":{"comercial":1.15,"total":1.15,"puro":1.7434}},{"taxa":{"comercial":0.000048,"pura":4e-10,"total":0.0000481824},"iof":0,"sigla":"AFI","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.07}],"premio":{"comercial":0.24,"total":0.24,"puro":0.3601}},{"taxa":{"comercial":0.0013,"pura":6.329e-7,"total":0.00130494},"iof":0,"sigla":"HAH","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.04}],"premio":{"comercial":0.13,"total":0.13,"puro":0.1962}},{"taxa":{"comercial":0.0024,"pura":0.0000011473,"total":0.00240912},"iof":0,"sigla":"HAHP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.07}],"premio":{"comercial":0.24,"total":0.24,"puro":0.3556}},{"taxa":{"comercial":0.0003933333,"pura":6.4e-9,"total":0.000394828},"iof":0,"sigla":"RPR","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.39}],"premio":{"comercial":1.18,"total":1.18,"puro":1.7897}},{"taxa":{"comercial":0.0002666666,"pura":4.3e-9,"total":0.00026768},"iof":0,"sigla":"RMF","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.26}],"premio":{"comercial":0.8,"total":0.8,"puro":1.2019}},{"taxa":{"comercial":0.0003933333,"pura":6.4e-9,"total":0.000394828},"iof":0,"sigla":"AHP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.39}],"premio":{"comercial":1.18,"total":1.18,"puro":1.7897}},{"taxa":{"comercial":0.00009,"pura":1.4e-9,"total":0.000090342},"iof":0,"sigla":"AM","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.09}],"premio":{"comercial":0.27,"total":0.27,"puro":0.4065}}]}],"coberturas":[{"taxa":{"comercial":0.003563,"pura":0.000173658,"total":0.0035765394},"iof":0.13,"sigla":"DMHO","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-11.87}],"premio":{"comercial":35.63,"total":35.76,"puro":53.83}},{"taxa":{"comercial":0.000021875,"pura":0.0000010684,"total":0.000022},"iof":0.01,"sigla":"MAP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.58}],"premio":{"comercial":1.75,"total":1.76,"puro":2.65}},{"taxa":{"comercial":0.000001125,"pura":5.47e-8,"total":0.0000011292},"iof":0,"sigla":"IPA","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.03}],"premio":{"comercial":0.09,"total":0.09,"puro":0.14}},{"taxa":{"comercial":0.000021,"pura":0,"total":0.0000210798},"iof":0,"sigla":"TC","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.14}],"premio":{"comercial":0.42,"total":0.42,"puro":0.63}},{"taxa":{"comercial":0.000015,"pura":7.221e-7,"total":0.000015057},"iof":0,"sigla":"TM","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.09}],"premio":{"comercial":0.3,"total":0.3,"puro":0.45}},{"taxa":{"comercial":0.0000575,"pura":1e-10,"total":0.0000577185},"iof":0,"sigla":"RS","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.38}],"premio":{"comercial":1.15,"total":1.15,"puro":1.74}},{"taxa":{"comercial":0.000048,"pura":4e-10,"total":0.0000481824},"iof":0,"sigla":"AFI","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.07}],"premio":{"comercial":0.24,"total":0.24,"puro":0.36}},{"taxa":{"comercial":0.0013,"pura":6.329e-7,"total":0.00130494},"iof":0,"sigla":"HAH","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.04}],"premio":{"comercial":0.13,"total":0.13,"puro":0.2}},{"taxa":{"comercial":0.0024,"pura":0.0000011473,"total":0.00240912},"iof":0,"sigla":"HAHP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.07}],"premio":{"comercial":0.24,"total":0.24,"puro":0.36}},{"taxa":{"comercial":0.0003933333,"pura":6.4e-9,"total":0.000394828},"iof":0,"sigla":"RPR","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.39}],"premio":{"comercial":1.18,"total":1.18,"puro":1.79}},{"taxa":{"comercial":0.0002666666,"pura":4.3e-9,"total":0.00026768},"iof":0,"sigla":"RMF","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.26}],"premio":{"comercial":0.8,"total":0.8,"puro":1.2}},{"taxa":{"comercial":0.0003933333,"pura":6.4e-9,"total":0.000394828},"iof":0,"sigla":"AHP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.39}],"premio":{"comercial":1.18,"total":1.18,"puro":1.79}},{"taxa":{"comercial":0.00009,"pura":1.4e-9,"total":0.000090342},"iof":0,"sigla":"AM","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.09}],"premio":{"comercial":0.27,"total":0.27,"puro":0.41}}]}],"coberturas":[{"iof":0.13,"sigla":"DMHO","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-11.87}],"premio":{"comercial":35.63,"total":35.76,"puro":53.83}},{"iof":0.01,"sigla":"MAP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.58}],"premio":{"comercial":1.75,"total":1.76,"puro":2.65}},{"iof":0,"sigla":"IPA","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.03}],"premio":{"comercial":0.09,"total":0.09,"puro":0.14}},{"iof":0,"sigla":"TC","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.14}],"premio":{"comercial":0.42,"total":0.42,"puro":0.63}},{"iof":0,"sigla":"TM","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.09}],"premio":{"comercial":0.3,"total":0.3,"puro":0.45}},{"iof":0,"sigla":"RS","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.38}],"premio":{"comercial":1.15,"total":1.15,"puro":1.74}},{"iof":0,"sigla":"AFI","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.07}],"premio":{"comercial":0.24,"total":0.24,"puro":0.36}},{"iof":0,"sigla":"HAH","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.04}],"premio":{"comercial":0.13,"total":0.13,"puro":0.2}},{"iof":0,"sigla":"HAHP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.07}],"premio":{"comercial":0.24,"total":0.24,"puro":0.36}},{"iof":0,"sigla":"RPR","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.39}],"premio":{"comercial":1.18,"total":1.18,"puro":1.79}},{"iof":0,"sigla":"RMF","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.26}],"premio":{"comercial":0.8,"total":0.8,"puro":1.2}},{"iof":0,"sigla":"AHP","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.39}],"premio":{"comercial":1.18,"total":1.18,"puro":1.79}},{"iof":0,"sigla":"AM","descontoAgravo":[{"tipo":"FPG","percentual":-25,"monetario":-0.09}],"premio":{"comercial":0.27,"total":0.27,"puro":0.41}}]}]},"numeroOrcamento":"00008730","numeroOferta":1699,"orcnum":"00008730"}],"retornoAceitacao":{"analises":[{"severidade":null,"codigo":4,"descricao":"Capital da Cobertura superior a R$400.000,00","area":"UNI","procedimento":"","mensagens":{"interna":"PARA ANALISAR","cliente":null,"representante":null}}],"recusas":[{"severidade":null,"codigo":4,"descricao":"Capital da Cobertura superior a R$200.000,00","area":"UNI","procedimento":"","mensagens":{"interna":"PERMITIDO","cliente":null,"representante":null}}],"avisos":[{"severidade":null,"codigo":4,"descricao":"Capital da Cobertura superior a R$200.000,00","area":"UNI","procedimento":"","mensagens":{"interna":"PERMITIDO","cliente":null,"representante":null}}],"pendencias":[{"severidade":null,"codigo":4,"descricao":"Capital da Cobertura superior a R$200.000,00","area":"UNI","procedimento":"","mensagens":{"interna":"PERMITIDO","cliente":null,"representante":null}}],"decisoes":[{"codigo":10055,"descricao":"Risco médio","tipo":"RISCO","acao":"QTNR_Completo"}]},"retornoIntegracoes":{}}]}');

        RestContext.request = requestGravar;
        Test.startTest();
        GravarOrcamentoRest.gravar();
        Test.stopTest();
    }
}
//PLV-3649 - FIM - Performance - Gravar Orçamentos